5	COPY	START	1000
10	FIRST	STL	RETADR
15	CLOOP	JSUB	RDREC
20	null	LDA	LENGTH
25	null	COMP	ZERO
30	null	JEQ	ENDFIL
35	null	JSUB	WRREC
40	null	J	CLOOP
45	ENDFIL	LDA	EOF
50	null	STA	BUFFER
55	null	LDA	THREE
60	null	STA	LENGTH
65	null	JSUB	WRREC
70	null	LDL	RETADR
75	null	RSUB	null
80	EOF	BYTE	C'EOF'
85	THREE	WORD	3
90	ZERO	WORD	0
95	RETADR	RESW	1
100	LENGTH	RESW	1
105	BUFFER	RESB	4096
125	RDREC	LDX	ZERO
130	null	LDA	ZERO
135	RLOOP	TD	INPUT
140	null	JEQ	RLOOP
145	null	RD	INPUT
150	null	COMP	ZERO
155	null	JEQ	EXIT
160	null	STCH	BUFFER
165	null	TIX	MAXLEN
170	null	JLT	RLOOP
175	EXIT	STX	LENGTH
180	null	RSUB	null
185	INPUT	BYTE	X'F1'
190	MAXLEN	WORD	4096
210	WRREC	LDX	ZERO
215	WLOOP	TD	OUTPUT
220	null	JEQ	WLOOP
225	null	LDCH	BUFFER
230	null	WD	OUTPUT
235	null	TIX	LENGTH
240	null	JLT	WLOOP
245	null	RSUB	null	
250	OUTPUT	BYTE	X'05'
255	null	END	FIRST